<!doctype html>
<html lang="ko">
<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
<!--
 @license
 Copyright 2019 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<html>
<head>
    <title>평화의 장</title>
    
</head>
<body>
<div id="map"></div>


<script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=a0fccc5b90fa72e9183211b2d1ea006c"></script>
<script>
var mapContainer = document.getElementById('map'), // 카카오맵 표시
    mapOption = { 
        center: new kakao.maps.LatLng(33.450701, 126.570667), // 카카오맵 표시 좌표
        level: 100 // 지도의 확대 레벨 
    }; 

var map = new kakao.maps.Map(mapContainer, mapOption); // 카카오맵 생성

// 마커가 표시될 위치입니다 
var markerPosition  = new kakao.maps.LatLng(33.450701, 126.570667); 
// 마커를 생성합니다
var marker = new kakao.maps.Marker({
  position: markerPosition
});

// 마커가 지도 위에 표시되도록 설정합니다
marker.setMap(map);

var iwContent = '<div style="padding:5px;">쓰레기통 테스트 <br><a href="https://map.kakao.com/link/map/Hello World!,33.450701,126.570667" style="color:blue" target="_blank">큰지도보기</a> <a href="https://map.kakao.com/link/to/Hello World!,33.450701,126.570667" style="color:blue" target="_blank">길찾기</a></div>', // 인포윈도우에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다
    iwPosition = new kakao.maps.LatLng(33.450701, 126.570667); //인포윈도우 표시 위치입니다

// 인포윈도우를 생성합니다
var infowindow = new kakao.maps.InfoWindow({
    position : iwPosition, 
    content : iwContent 
});

if (navigator.geolocation) {
    
    navigator.geolocation.getCurrentPosition(function(position) {
        
        var lat = position.coords.latitude, // 위도
            lon = position.coords.longitude; // 경도
        
        var locPosition = new kakao.maps.LatLng(lat, lon), 
            message = '<div style="padding:5px;">당신의 현재 위치</div>';
        
        // 마커/인포윈도우 표시
        displayMarker(locPosition, message);
            
      });
    
} else { // geolocatin 사용 불가능할 떄,
    
    var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    
        message = '위치 정보를 확인할 수 없습니다.'
        
    displayMarker(locPosition, message);
}

// 마커/인포윈도우 표시
function displayMarker(locPosition, message) {
    var marker = new kakao.maps.Marker({  
        map: map, 
        position: locPosition
    }); 
    
    var iwContent = message, 
        iwRemoveable = true;

    var infowindow = new kakao.maps.InfoWindow({
        content : iwContent,
        removable : iwRemoveable
    });

    infowindow.open(map, marker);
    
    // 지도 중심좌표를 접속위치로 변경
    map.setCenter(locPosition);      
}    
  
// 마커 위에 인포윈도우를 표시합니다. 두번째 파라미터인 marker를 넣어주지 않으면 지도 위에 표시됩니다
infowindow.open(map, marker); 
</script>
</body>
</html>