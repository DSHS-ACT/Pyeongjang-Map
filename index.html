<!doctype html>
<html lang="ko">
<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
<!--
 @license
 Copyright 2019 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<html>
<head>
    <title>평화의 장</title>
    
</head>
<body>
<div id="map" style="width:100%;height:350px;"></div>

<script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=a0fccc5b90fa72e9183211b2d1ea006c"></script>
<script>
var mapContainer = document.getElementById('map'), // 카카오맵 표시
    mapOption = { 
        center: new kakao.maps.LatLng(33.450701, 126.570667), // 카카오맵 표시 좌표
        level: 1 // 지도 확대 레벨 
    }; 

var map = new kakao.maps.Map(mapContainer, mapOption); // 카카오맵 생성

var markerPositions = [
  { position: new kakao.maps.LatLng(36.31, 127.3784), message: '휴지통 위치' },
  { position: new kakao.maps.LatLng(36.31, 127.3786), message: '휴지통 위치' },
  { position: new kakao.maps.LatLng(36.31, 127.3789), message: '휴지통 위치' },
  { position: new kakao.maps.LatLng(36.3099, 127.3791), message: '휴지통 위치' },
  { position: new kakao.maps.LatLng(36.3099, 127.3785), message: '휴지통 위치' },
  { position: new kakao.maps.LatLng(36.3099, 127.3788), message: '휴지통 위치' },
  { position: new kakao.maps.LatLng(36.3099, 127.3791), message: '휴지통 위치' }
];

markerPositions.forEach(function(data) {
  displayMarker(data.position, data.message);
});

function displayMarker(locPosition, message) {
    var marker = new kakao.maps.Marker({  
        map: map, 
        position: locPosition
    }); 
    
    var infowindow = new kakao.maps.InfoWindow({
        content : '<div style="padding:5px;">' + message + '</div>',
        removable : true
    });

    infowindow.open(map, marker);
}    

if (navigator.geolocation) {
    
    navigator.geolocation.getCurrentPosition(function(position) {
        
        var lat = position.coords.latitude, // 위도
            lon = position.coords.longitude; // 경도
        
        var locPosition = new kakao.maps.LatLng(lat, lon), 
            message = '<div style="padding:5px;">당신의 현재 위치</div>';
        
        // 마커/인포윈도우 표시
        displayMarker(locPosition, message);
            
      });
    
} else { // geolocatin 사용 불가능할 떄,
    
    var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    
        message = '위치 정보를 확인할 수 없습니다.'
        
    displayMarker(locPosition, message);
}
</script>
</body>
</html>