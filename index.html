<!doctype html>
<html lang="ko">
<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
<!--
 @license
 Copyright 2019 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<html>
<head>
    <title>평화의 장</title>
    
</head>
<body>
<div id="map"></div>


<script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=a0fccc5b90fa72e9183211b2d1ea006c"></script>
<script>
var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
    mapOption = { 
        center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
        level: 100 // 지도의 확대 레벨 
    }; 

var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

if (navigator.geolocation) {
    
    navigator.geolocation.getCurrentPosition(function(position) {
        
        var lat = position.coords.latitude, // 위도
            lon = position.coords.longitude; // 경도
        
        var locPosition = new kakao.maps.LatLng(lat, lon), 
            message = '<div style="padding:5px;">당신의 현재 위치</div>';
        
        // 마커/인포윈도우 표시
        displayMarker(locPosition, message);
            
      });
    
} else { // geolocatin 사용 불가능할 떄,
    
    var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    
        message = '위치 정보를 확인할 수 없습니다.'
        
    displayMarker(locPosition, message);
}

// 마커/인포윈도우 표시
function displayMarker(locPosition, message) {
    var marker = new kakao.maps.Marker({  
        map: map, 
        position: locPosition
    }); 
    
    var iwContent = message, 
        iwRemoveable = true;

    var infowindow = new kakao.maps.InfoWindow({
        content : iwContent,
        removable : iwRemoveable
    });

    infowindow.open(map, marker);
    
    // 지도 중심좌표를 접속위치로 변경
    map.setCenter(locPosition);      
}    
</script>
</body>
</html>