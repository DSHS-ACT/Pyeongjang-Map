<!doctype html>
<html lang="ko">
<meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
<!--
 @license
 Copyright 2019 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<html>
<head>
    <title>평화의 장</title>
    
</head>
<body>
<div id="map" style="width:100%;height:350px;"></div>


<script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=a0fccc5b90fa72e9183211b2d1ea006c"></script>
<script>
var mapContainer = document.getElementById('map'), // 카카오맵 표시
    mapOption = { 
        center: new kakao.maps.LatLng(33.450701, 126.570667), // 카카오맵 표시 좌표
        level: 1 // 지도 확대 레벨 
    }; 

var map = new kakao.maps.Map(mapContainer, mapOption); // 카카오맵 생성

// 마커를 생성합니다
var marker = new kakao.maps.Marker({
  position: binmarker1
});
var marker2 = new kakao.maps.Marker({
  position: binmarker2
});

// 마커 표시
marker.setMap(map);
marker2.setMap(map);

var binmarker1  = new kakao.maps.LatLng(36.310778, 127.378468); 
var binmarker2  = new kakao.maps.LatLng(36.310452, 127.378399); // 마커 표시 좌표

var binwindow1 = '<div style="padding:5px;">쓰레기통 테스트 </div>',
    binwinfo1 = new kakao.maps.LatLng(36.310778, 127.378468);
var binwindow2 = '<div style="padding:5px;">bin test</div>'; 
    binwinfo2 = new kakao.maps.LatLng(36.310452, 127.378399); 

var infowindow = new kakao.maps.InfoWindow({
    position : binwinfo1, 
    content : binwindow1 
});
var infowindow2 = new kakao.maps.InfoWindow({
  position : binwinfo2, 
  content : binwindow2 
});

if (navigator.geolocation) {
    
    navigator.geolocation.getCurrentPosition(function(position) {
        
        var lat = position.coords.latitude, // 위도
            lon = position.coords.longitude; // 경도
        
        var locPosition = new kakao.maps.LatLng(lat, lon), 
            message = '<div style="padding:5px;">당신의 현재 위치</div>';
        
        // 마커/인포윈도우 표시
        displayMarker(locPosition, message);
            
      });
    
} else { // geolocatin 사용 불가능할 떄,
    
    var locPosition = new kakao.maps.LatLng(33.450701, 126.570667),    
        message = '위치 정보를 확인할 수 없습니다.'
        
    displayMarker(locPosition, message);
}

// 마커/인포윈도우 표시
function displayMarker(locPosition, message) {
    var marker = new kakao.maps.Marker({  
        map: map, 
        position: locPosition
    }); 
    
    var binwindow1 = message, 
        iwRemoveable = true;

    var infowindow = new kakao.maps.InfoWindow({
        content : binwindow1,
        removable : iwRemoveable
    });

    infowindow.open(map, marker);
    
    // 지도 중심좌표를 접속위치로 변경
    map.setCenter(locPosition);      
}    

infowindow.open(map, marker); 
infowindow2.open(map, marker2);

</script>
</body>
</html>